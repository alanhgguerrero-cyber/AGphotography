<!DOCTYPE HTML>
<!--
	Multiverse by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>AG Photography</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<style>
			/* Ajusta el lightbox para mostrar las imágenes grandes con buena calidad */
			
			.poptrox-popup {
				width: 85vw !important;
				height: 85vh !important;
				max-width: 1000px !important;
				max-height: 700px !important;
				overflow: hidden;
				box-sizing: border-box;
			}
			.poptrox-popup .pic {
				width: 100% !important;
				height: 100% !important;
				overflow: hidden;
			}
			.poptrox-popup img {
				max-width: 100%;
				max-height: 100%;
				width: 100%;
				height: 100%;
				object-fit: contain;
				display: block;
				transform: scale(1);
				transform-origin: center center;
				transition: transform 0.2s ease;
				cursor: zoom-in;
			}
			/* Asegura que la imagen quede por encima del overlay del popup */
			.poptrox-popup {
				background: rgba(31, 34, 36, 0.5) !important;
				box-shadow: none !important;
			}
			.poptrox-popup:before {
				opacity: 0.2 !important;
				pointer-events: none;
			}
			.poptrox-popup .pic,
			.poptrox-popup .pic img {
				position: relative;
				z-index: 3;
			}
			/* Permite ver el zoom cuando la imagen está ampliada */
			.poptrox-popup.is-zoomed {
				overflow: visible;
			}
			.poptrox-popup.is-zoomed .pic {
				overflow: visible;
			}
			/* Muestra siempre los controles de navegación */
			.poptrox-popup .closer,
			.poptrox-popup .nav-previous,
			.poptrox-popup .nav-next {
				opacity: 1 !important;
				pointer-events: auto;
				z-index: 5;
				display: block !important;
			}
			.intro-bg {
				position: absolute;
				inset: 0;
				background-size: cover;
				background-position: center;
				opacity: 0;
				transition: opacity 1.2s ease;
				z-index: 0;
			}
			.intro-bg.is-visible {
				opacity: 1;
			}
			#intro > *:not(.intro-bg) {
				position: relative;
				z-index: 1;
			}
			@media (max-width: 600px) {
				.poptrox-popup .closer,
				.poptrox-popup .nav-previous,
				.poptrox-popup .nav-next {
					width: 90px !important;
					height: 90px !important;
					background-size: 4em !important;
				}
				#closeGalleryModal {
					font-size: 48px !important;
					padding: 10px 14px;
					background: rgba(0, 0, 0, 0.4);
					border-radius: 8px;
					top: 28px !important;
				}
				#closeAlbumViewer {
					font-size: 42px !important;
					padding: 10px 14px;
					background: rgba(0, 0, 0, 0.4);
					border-radius: 8px;
				}
				#closeModal {
					font-size: 48px !important;
					padding: 10px 14px;
					background: rgba(0, 0, 0, 0.4);
					border-radius: 8px;
					top: 28px !important;
				}
				#prevImageBtn,
				#nextImageBtn {
					width: 90px !important;
					height: 90px !important;
					background-size: 4em !important;
				}
				#imageCounter {
					font-size: 18px !important;
				}
			}
			#prevImageBtn,
			#nextImageBtn {
				width: 6em;
				height: 8em;
				background-image: url("assets/css/images/arrow.svg");
				background-position: center;
				background-repeat: no-repeat;
				background-size: 5em;
				background-color: transparent;
				border: none;
				cursor: pointer;
			}
			#prevImageBtn {
				transform: scaleX(-1);
			}
		</style>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<h1>
							<a href="#" id="aboutUsBtn" style="margin-right: 20px;"><strong>About us</strong></a>
							<a href="#" id="galleryBtn">Gallery</a>
						</h1>
						<nav>
							<ul>
								<li><a href="#" id="cotizaBtn" class="icon solid fa-info-circle">COTIZA</a></li>
							</ul>
						</nav>
					</header>

				<!-- Intro -->
					<section id="intro" class="fade-in" style="height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; text-align: center; position: relative; overflow: hidden;">
						<div class="intro-bg intro-bg-a"></div>
						<div class="intro-bg intro-bg-b"></div>
						<h1 class="fade-in" style="font-size: 4em; font-weight: bold; text-transform: uppercase; margin: 0;">Captura un momento que dure toda una vida </h1>
						<p class="fade-in" style="font-size: 1.5em; margin-top: 20px;">En AG photography te ayudamos con eventos, sesiones, bodas y más
						<a href="#main" id="scroll-down-btn" style="position: absolute; bottom: -150px; left: 50%; transform: translateX(-50%); font-size: 2em; color: white; text-decoration: none;">↓</a>
					</section>

				<!-- Main -->
					<div id="main">

						<article class="thumb">
							<a href="images/fulls/35.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/35.jpg" alt="AG Photography" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/01.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/01.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/02.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/02.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/03.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/03.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/04.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/04.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/05.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/05.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/06.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/06.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/07.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/07.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/08.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/08.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/09.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/09.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/10.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/10.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/11.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/11.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>
						<article class="thumb">
							<a href="images/fulls/12.jpg" class="image"><img loading="lazy" decoding="async" src="images/thumbs/12.jpg" alt="" /></a>
							<h2></h2>
							<p></p>
						</article>

					</div>
					<a href="#intro" id="back-to-top" style="position: fixed; right: 20px; bottom: 20px; width: 44px; height: 44px; border-radius: 50%; background: rgba(0,0,0,0.6); color: #fff; text-decoration: none; display: none; align-items: center; justify-content: center; z-index: 20001; font-size: 22px;">↑</a>

		<!-- Modal Cotiza -->
		<div id="cotizaModal" style="display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.95); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); align-items: center; justify-content: center; padding: 20px; box-sizing: border-box;">
			<div style="background-color: rgba(0,0,0,0.85); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); padding: 40px; border-radius: 10px; max-width: 90vw; max-height: 90vh; width: 100%; position: relative; overflow-y: auto; border: 1px solid rgba(255,255,255,0.1);">
				<span id="closeCotizaModal" style="position: absolute; top: 10px; right: 20px; font-size: 30px; cursor: pointer; color: #fff; z-index: 100;">&times;</span>
				
				<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 20px;">
					<!-- Información -->
					<div>
						<h2 style="color: #fff; margin-top: 0;">Cotiza con nosotros</h2>
						<p style="color: #ccc; line-height: 1.8;">Obtén tu cotización personalizada para eventos, sesiones fotográficas, bodas y más. Contactanos para más información.</p>
						
						<h3 style="color: #fff; margin-top: 30px;">Síguenos en redes</h3>
						<ul class="icons" style="margin: 0; padding: 0; list-style: none; display: flex; gap: 15px;">
							
							<li><a href="https://www.facebook.com/ag.photography.772436?locale=es_LA" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="https://www.instagram.com/raze_9731/" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="https://wa.me/523314404129" class="icon brands fa-whatsapp"><span class="label">WhatsApp</span></a></li>
							
						</ul>
						
						<p class="copyright" style="color: #888; margin-top: 30px; font-size: 12px;">
							&copy; AG Photography. Design: <a href="http://html5up.net">HTML5 UP</a>.
						</p>
					</div>
					
					<!-- Formulario -->
					<div>
						<h2 style="color: #fff; margin-top: 0;">Envía tu cotización</h2>
						<form id="contactForm" action="https://formsubmit.co/aguerrerostudio@gmail.com" method="POST">
							<!-- FormSubmit Configuration -->
							<input type="hidden" name="_subject" value="Nueva Cotización - AG Photography">
							<input type="hidden" name="_captcha" value="false">
							<input type="hidden" name="_template" value="table">
							
							<div class="fields">
								<div class="field half">
									<input type="text" name="name" id="name" placeholder="Nombre" required />
								</div>
								<div class="field half">
									<input type="email" name="email" id="email" placeholder="Tu Email" required />
								</div>
								<div class="field">
									<input type="text" name="subject" id="subject" placeholder="Tema de la cotización" />
								</div>
								<div class="field">
									<textarea name="message" id="message" rows="4" placeholder="Cuéntanos qué necesitas" required></textarea>
								</div>
							</div>
							<ul class="actions">
								<li><button type="submit" class="primary" id="sendBtn">Enviar Cotización</button></li>
								<li><input type="reset" value="Limpiar" /></li>
							</ul>
						</form>
					</div>
				</div>
			</div>
		</div>
		<!-- Modal About Us -->
		<div id="aboutModal" style="display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); align-items: center; justify-content: center; overflow-y: auto; padding: 20px;">
			<div style="background-color: rgba(0,0,0,0.85); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); padding: 40px; border-radius: 10px; max-width: 700px; position: relative; text-align: center; max-height: 90vh; overflow-y: auto; border: 1px solid rgba(255,255,255,0.1);">
				<span id="closeModal" style="position: absolute; top: 18px; right: 20px; font-size: 34px; cursor: pointer; color: #fff; z-index: 100;">&times;</span>
				<h2 style="color: #fff; margin-bottom: 30px; margin-top: 0;">About Us</h2>
				
				<!-- Contenido con formato -->
				<div style="text-align: center; color: #f0f0f0; line-height: 2;">
					<!-- ¿Por qué elegirnos? -->
					<h3 style="color: #fff; font-size: 1.5em; margin: 30px 0 20px 0; text-transform: uppercase; font-weight: bold;">¿Por qué elegirnos?</h3>
					
					<!-- Imagen de referencia -->
					<img loading="lazy" decoding="async" src="images/thumbs/01.jpg" alt="AG Photography" style="width: 100%; max-width: 300px; height: auto; border-radius: 8px; margin: 20px 0; display: block;">
					
					<!-- Texto ¿Por qué elegirnos? -->
					<p style="color: #ccc; margin: 20px 0; font-size: 13px; line-height: 1.8;">
						Somos un equipo unido, enfocado en capturar los momentos más importantes de tu vida.
						<br><br>
						Creemos que una gran fotografía no necesita retoques extremos, sino una mirada honesta y sensible.
						<br><br>
						No necesitas un retoque quirúrgico para una bella imagen.
						<br>
						Solo necesitas un <strong>ENFOQUE</strong> distinto.
					</p>
					
					<!-- Divisor -->
					<hr style="border: none; border-top: 1px solid rgba(255,255,255,0.2); margin: 30px 0;">
					
					<!-- About me -->
					<h3 style="color: #fff; font-size: 1.5em; margin: 30px 0 20px 0; text-transform: uppercase; font-weight: bold;">About me</h3>
					
					<p style="color: #ccc; margin: 15px 0; font-size: 14px; line-height: 1.8;">
						<strong style="color: #fff; font-size: 1.15em;">Alan Guerrero</strong>
						<br>
						<em style="color: #aaa; font-size: 13px;">Estudiante de Ciencias de la Comunicación</em>
					</p>
					
					<p style="color: #ccc; margin: 20px 0; font-size: 14px; line-height: 1.8;">
						He crecido rodeado de cámaras, historias y eventos que merecen ser recordados.
						<br><br>
						Cuento con más de <strong>3 años de experiencia en fotografía</strong> y más de <strong>7 años en edición profesional</strong>, trabajando con herramientas de Adobe.
					</p>
					
					<p style="color: #ccc; margin: 20px 0; font-size: 14px; line-height: 1.8;">
						No te conformes con lo sencillo.
						<br><br>
						Mi objetivo es brindarte la mejor versión de tu mejor momento, cuidando cada detalle y emoción.
					</p>
					
					<!-- Final -->
					<p style="color: #fff; margin: 30px 0 0 0; font-size: 15px; line-height: 1.8; font-weight: bold;">
						En <strong>AG Photography</strong> solo necesitamos decir:
						<br><br>
						<span style="font-size: 1.3em; color: #ffffff;">Luces, cámara… y acción.</span>
					</p>
				</div>
			</div>
		</div>

		<!-- Modal Gallery -->
		<div id="galleryModal" style="display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.35); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); align-items: center; justify-content: center; padding: 20px; box-sizing: border-box; overflow-y: auto;">
			<button id="galleryBackToTop" style="position: fixed; right: 20px; bottom: 20px; width: 42px; height: 42px; border-radius: 50%; background: rgba(0,0,0,0.6); color: #fff; border: 2px solid rgba(255,255,255,0.6); cursor: pointer; font-size: 18px; display: none; align-items: center; justify-content: center; z-index: 10001;">↑</button>
			<div id="galleryModalInner" style="background: linear-gradient(135deg, rgba(10,10,10,0.45) 0%, rgba(0,0,0,0.4) 100%); backdrop-filter: blur(3px); padding: 40px; border-radius: 10px; max-width: 90vw; max-height: 90vh; width: 100%; position: relative; text-align: center; overflow-y: auto;">
				<span id="closeGalleryModal" style="position: absolute; top: 24px; right: 20px; font-size: 34px; cursor: pointer; color: #fff; z-index: 100;">&times;</span>
				<h2 style="color: #fff; margin-bottom: 30px; margin-top: 0;">Gallery</h2>
				
				<!-- Álbumes Grid -->
				<div id="albumsContainer" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
					<!-- Los álbumes se generarán con JavaScript -->
				</div>
			</div>
		</div>

		<!-- Modal Visor de Imágenes del Álbum -->
		<div id="albumViewerModal" style="display: none; position: fixed; z-index: 10001; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.95); backdrop-filter: blur(10px); align-items: center; justify-content: center; padding: 20px; box-sizing: border-box;">
			<div style="position: relative; width: 100%; max-width: 85vw; max-height: 85vh; display: flex; flex-direction: column; align-items: center; justify-content: center;">
				<span id="closeAlbumViewer" style="position: absolute; top: -30px; right: 0; font-size: 30px; cursor: pointer; color: #fff; z-index: 100;">&times;</span>
				
				<!-- Imagen actual -->
				<div style="position: relative; width: 100%; display: flex; align-items: center; justify-content: center;">
					<img id="currentAlbumImage" src="" alt="Album image" style="max-width: 100%; max-height: 70vh; object-fit: contain; cursor: zoom-in; transition: transform 0.2s ease;">
				</div>
				
				<!-- Controles -->
				<div style="margin-top: 10px; display: flex; gap: 10px; justify-content: center; color: white; position: relative; z-index: 5;">
					<button id="prevImageBtn" aria-label="Imagen anterior"></button>
					<span id="imageCounter" style="padding: 10px 10px; background-color: rgba(255,255,255,0); border-radius: 5px; font-size: 24px; font-weight: bold;">1 / 1</span>
					<button id="nextImageBtn" aria-label="Siguiente imagen"></button>
				</div>
			</div>
		</div>
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.poptrox.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

			<script>
		// === CONFIGURACIÓN DE ÁLBUMES ===
		// Modifica aquí los álbumes y sus imágenes
		const albums = [
			{
				title: 'iNVITACIONES PARA XV',
				preview: 'images/thumbs/01.jpg',
				images: ['images/fulls/01.jpg', 'images/fulls/02.jpg', 'images/fulls/03.jpg', 'images/fulls/10.jpg', 'images/fulls/11.jpg', 'images/fulls/12.jpg', 'images/fulls/13.jpg','images/fulls/14.jpg','images/fulls/15.jpg']
			},
			{
				title: 'XV',
				preview: 'images/thumbs/08.jpg',
				images: ['images/fulls/08.jpg', 'images/fulls/09.jpg']
			},
			{
				title: 'FIESTAS',
				preview: 'images/thumbs/16.jpg',
				images: ['images/fulls/16.jpg', 'images/fulls/17.jpg', 'images/fulls/18.jpg', 'images/fulls/19.jpg', 'images/fulls/20.jpg', 'images/fulls/21.jpg', 'images/fulls/22.jpg', 'images/fulls/23.jpg', 'images/fulls/26.jpg', 'images/fulls/27.jpg', 'images/fulls/28.jpg', 'images/fulls/29.jpg', 'images/fulls/30.jpg', 'images/fulls/31.jpg', 'images/fulls/32.jpg', 'images/fulls/33.jpg', 'images/fulls/34.jpg']
			},
			{
				title: 'RECUERDOS',
				preview: 'images/thumbs/1000094877.jpg',
				images: [
					'images/fulls/1000094877.jpg', 'images/fulls/1000032351.jpg', 'images/fulls/1000032367.jpg', 
					'images/fulls/1000032368.jpg', 'images/fulls/1000089003.jpg', 'images/fulls/1000089006.jpg', 
					'images/fulls/1000090928.jpg', 'images/fulls/1000090929.jpg', 'images/fulls/1000093598.jpg', 
					'images/fulls/1000103640.jpg', 'images/fulls/1000107559.jpg', 'images/fulls/1000110926.jpg', 
					'images/fulls/1000110929.jpg', 'images/fulls/1000113410.jpg', 'images/fulls/1000116724.jpg', 
					'images/fulls/1000116727.jpg', 'images/fulls/1000130600.jpg', 'images/fulls/1000131005.jpg', 
					'images/fulls/1000131443.jpg', 'images/fulls/1000113319.jpg', 'images/fulls/1000113366.jpg', 
					'images/fulls/1000113367.jpg', 'images/fulls/1000113370.jpg', 'images/fulls/1000113379.jpg', 
					'images/fulls/1000113381.jpg', 'images/fulls/1000113402.jpg', 'images/fulls/1000113411.jpg', 
					'images/fulls/1000113412.jpg', 'images/fulls/1000113430.jpg', 'images/fulls/1000002303.jpg', 
					'images/fulls/1000002305.jpg', 'images/fulls/1000002326.jpg', 'images/fulls/1000002340.jpg', 
					'images/fulls/1000002355.jpg', 'images/fulls/1000002378.jpg', 'images/fulls/1000002428.jpg', 
					'images/fulls/1000004617.jpg', 'images/fulls/1000035014.jpg', 'images/fulls/1000050853.jpg', 
					'images/fulls/1000058666.jpg', 'images/fulls/1000058810.jpg', 'images/fulls/1000066607.jpg', 
					'images/fulls/1000072114.jpg', 'images/fulls/1000074002.jpg', 'images/fulls/1000113386.jpg', 
					'images/fulls/1000113388.jpg', 'images/fulls/1000113389.jpg', 'images/fulls/1000050842.jpg', 
					'images/fulls/1000050845.jpg', 'images/fulls/1000050846.jpg', 'images/fulls/1000050850.jpg', 
					'images/fulls/1000050851.jpg', 'images/fulls/1000050852.jpg', 'images/fulls/1000050854.jpg', 
					'images/fulls/1000050857.jpg', 'images/fulls/1000050858.jpg', 'images/fulls/1000050863.jpg', 
					'images/fulls/1000061395.jpg', 'images/fulls/1000061394.jpg', 'images/fulls/1000061396.jpg', 
					'images/fulls/1000061403.jpg', 'images/fulls/1000061407.jpg', 'images/fulls/1000094865.jpg', 
					'images/fulls/1000094876.jpg', 'images/fulls/1000094878.jpg', 'images/fulls/1000094879.jpg', 
					'images/fulls/1000094872.jpg'
				]
			}
		];

		let currentAlbumIndex = 0;
		let currentImageIndex = 0;
		let currentImageZoom = 1;

		function closeAllModals() {
			$('#aboutModal').css('display', 'none');
			$('#cotizaModal').css('display', 'none');
			$('#galleryModal').css('display', 'none');
			$('#albumViewerModal').css('display', 'none');
		}

		// Modal About Us
		$('#aboutUsBtn').on('click', function(e) {
			e.preventDefault();
			closeAllModals();
			$('#aboutModal').css('display', 'flex');
		});

		$('#closeModal, #aboutModal').on('click', function(e) {
			if (e.target === this) {
				$('#aboutModal').css('display', 'none');
			}
		});
		$('#closeModal').on('click', function() {
			$('#aboutModal').css('display', 'none');
			window.scrollTo({ top: 0, behavior: 'smooth' });
		});

		// Modal Gallery
		$('#galleryBtn').on('click', function(e) {
			e.preventDefault();
			closeAllModals();
			renderAlbums();
			$('#galleryModal').css('display', 'flex');
		});

		// Botón Cotiza - Abre modal
		$('#cotizaBtn').on('click', function(e) {
			e.preventDefault();
			closeAllModals();
			$('#cotizaModal').css('display', 'flex');
		});

		$('#closeCotizaModal, #cotizaModal').on('click', function(e) {
			if (e.target === this || e.target.id === 'closeCotizaModal') {
				$('#cotizaModal').css('display', 'none');
			}
		});

		$('#closeGalleryModal, #galleryModal').on('click', function(e) {
			if (e.target === this || e.target.id === 'closeGalleryModal') {
				$('#galleryModal').css('display', 'none');
			}
		});
		// Botón arriba dentro de Gallery
		(function() {
			const inner = document.getElementById('galleryModal');
			const btn = document.getElementById('galleryBackToTop');
			if (!inner || !btn) return;
			inner.addEventListener('scroll', function() {
				btn.style.display = inner.scrollTop > 200 ? 'flex' : 'none';
			});
			btn.addEventListener('click', function(e) {
				e.preventDefault();
				inner.scrollTo({ top: 0, behavior: 'smooth' });
			});
		})();

		// Renderizar álbumes
		function renderAlbums() {
			const container = $('#albumsContainer');
			container.empty();
			
			albums.forEach((album, index) => {
				const albumHtml = `
					<div class="album-card" style="cursor: pointer; text-align: center; transition: transform 0.2s ease; padding: 10px; border-radius: 8px;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
						<img loading="lazy" decoding="async" src="${album.preview}" alt="${album.title}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: 10px;">
						<h3 style="color: #fff; margin: 0; font-size: 16px;">${album.title}</h3>
						<p style="color: #aaa; margin: 5px 0 0 0; font-size: 12px;">${album.images.length} fotos</p>
					</div>
				`;
				container.append(albumHtml);
			});

			// Agregar eventos de clic a los álbumes
			$('.album-card').each((index, element) => {
				$(element).on('click', () => openAlbum(index));
			});
		}

		// Abrir álbum
		function openAlbum(albumIndex) {
			currentAlbumIndex = albumIndex;
			currentImageIndex = 0;
			currentImageZoom = 1;
			$('#galleryModal').css('display', 'none');
			displayAlbumImage();
			$('#albumViewerModal').css('display', 'flex');
		}

		// Mostrar imagen del álbum
		function displayAlbumImage() {
			const album = albums[currentAlbumIndex];
			const image = album.images[currentImageIndex];
			$('#currentAlbumImage').attr('src', image).css('transform', 'scale(1)');
			$('#imageCounter').text(`${currentImageIndex + 1} / ${album.images.length}`);
			currentImageZoom = 1;
		}

		// Navegación de imágenes
		$('#prevImageBtn').on('click', () => {
			const album = albums[currentAlbumIndex];
			currentImageIndex = (currentImageIndex - 1 + album.images.length) % album.images.length;
			displayAlbumImage();
		});

		$('#nextImageBtn').on('click', () => {
			const album = albums[currentAlbumIndex];
			currentImageIndex = (currentImageIndex + 1) % album.images.length;
			displayAlbumImage();
		});

		// Click para hacer zoom en el visor del álbum
		$('#currentAlbumImage').on('click', () => {
			currentImageZoom = currentImageZoom === 1 ? 2 : 1;
			$('#currentAlbumImage').css('transform', `scale(${currentImageZoom})`);
			$('#currentAlbumImage').css('cursor', currentImageZoom === 1 ? 'zoom-in' : 'zoom-out');
		});
		// Hover zoom + pan vertical en el visor del álbum
		$('#currentAlbumImage')
			.on('mouseenter', function() {
				if ('ontouchstart' in window || navigator.maxTouchPoints > 0) return;
				currentImageZoom = 2;
				$(this).css('transform', `scale(${currentImageZoom})`);
				$(this).css('cursor', 'zoom-out');
			})
			.on('mouseleave', function() {
				if ('ontouchstart' in window || navigator.maxTouchPoints > 0) return;
				currentImageZoom = 1;
				$(this).css('transform', `scale(${currentImageZoom}) translate(0px, 0px)`);
				$(this).css('cursor', 'zoom-in');
			})
			.on('mousemove', function(e) {
				if ('ontouchstart' in window || navigator.maxTouchPoints > 0) return;
				if (currentImageZoom <= 1) return;
				const rect = this.getBoundingClientRect();
				const relY = (e.clientY - rect.top) / rect.height;
				const maxTy = (rect.height * (currentImageZoom - 1)) / 2;
				const ty = (relY - 0.5) * 2 * maxTy;
				$(this).css('transform', `translate(0px, ${ty.toFixed(2)}px) scale(${currentImageZoom})`);
			})
			.on('touchstart', function(e) {
				e.preventDefault();
				currentImageZoom = currentImageZoom === 1 ? 2 : 1;
				$(this).css('transform', `scale(${currentImageZoom}) translate(0px, 0px)`);
				$(this).css('cursor', currentImageZoom === 1 ? 'zoom-in' : 'zoom-out');
			});

		// Cerrar visor de álbum
		$('#closeAlbumViewer, #albumViewerModal').on('click', function(e) {
			if (e.target === this || e.target.id === 'closeAlbumViewer') {
				$('#albumViewerModal').css('display', 'none');
				$('#galleryModal').css('display', 'flex');
				renderAlbums();
			}
		});

		// Deshabilita click derecho y arrastrar en todas las imágenes
		$(document).on('contextmenu dragstart', 'img', function(e) {
			e.preventDefault();
		});
		// Botón volver arriba
		(function() {
			const btn = document.getElementById('back-to-top');
			if (!btn) return;
			window.addEventListener('scroll', function() {
				btn.style.display = window.scrollY > 300 ? 'flex' : 'none';
			});
		})();

		// Zoom con rueda del ratón dentro del lightbox, sin cerrar al hacer click en la imagen
		(function(){
			const minScale = 1;
			const maxScale = 3;
			const step = 0.15;
			const isTouch = ('ontouchstart' in window) || navigator.maxTouchPoints > 0;

			function setScale(img, scale) {
				const clamped = Math.max(minScale, Math.min(maxScale, scale));
				const tx = parseFloat(img.attr('data-tx')) || 0;
				const ty = parseFloat(img.attr('data-ty')) || 0;
				img.css('transform', 'translate(' + tx.toFixed(2) + 'px,' + ty.toFixed(2) + 'px) scale(' + clamped.toFixed(2) + ')');
				img.attr('data-zoom', clamped.toFixed(2));
				img.css('cursor', clamped > 1 ? 'zoom-out' : 'zoom-in');
				const popup = img.closest('.poptrox-popup');
				if (clamped > 1) {
					popup.addClass('is-zoomed');
				} else {
					popup.removeClass('is-zoomed');
					img.attr('data-tx', '0');
					img.attr('data-ty', '0');
				}
			}
			function setPan(img, tx, ty) {
				const current = parseFloat(img.attr('data-zoom')) || 1;
				img.attr('data-tx', tx.toFixed(2));
				img.attr('data-ty', ty.toFixed(2));
				img.css('transform', 'translate(' + tx.toFixed(2) + 'px,' + ty.toFixed(2) + 'px) scale(' + current.toFixed(2) + ')');
			}

			// Evita que el click sobre la imagen cierre el popup (desktop)
			if (!isTouch) {
				$(document).on('mousedown', '.poptrox-popup .pic, .poptrox-popup .pic img', function(e) {
					e.preventDefault();
					e.stopImmediatePropagation();
				});
				$(document).on('click', '.poptrox-popup .pic, .poptrox-popup .pic img', function(e) {
					e.preventDefault();
					e.stopImmediatePropagation();
				});
			}
			// Evita que los botones de navegación cierren el popup
			$(document).on('click', '.poptrox-popup .nav-previous, .poptrox-popup .nav-next', function(e) {
				e.stopPropagation();
			});
			// Zoom en el lightbox del grid
			$(document).on('click', '.poptrox-popup .pic img', function(e) {
				if (isTouch) return;
				e.preventDefault();
				e.stopImmediatePropagation();
				const img = $(this);
				const current = parseFloat(img.attr('data-zoom')) || 1;
				const next = current === 1 ? 2 : 1;
				setScale(img, next);
			});
			// En móviles no forzamos zoom en el grid para permitir navegar con los controles
			// Hover zoom y pan (solo desktop)
			if (!isTouch) {
				$(document).on('mouseenter', '.poptrox-popup .pic img', function() {
					const img = $(this);
					setScale(img, 2);
				});
				$(document).on('mouseleave', '.poptrox-popup .pic img', function() {
					const img = $(this);
					setScale(img, 1);
				});
				$(document).on('mouseleave', '.poptrox-popup .pic', function() {
					const img = $(this).find('img');
					if (img.length === 0) return;
					img.attr('data-tx', '0');
					img.attr('data-ty', '0');
					setScale(img, 1);
				});
				$(document).on('mousemove', '.poptrox-popup .pic', function(e) {
					const img = $(this).find('img');
					if (img.length === 0) return;
					const scale = parseFloat(img.attr('data-zoom')) || 1;
					if (scale <= 1) return;

					const rect = this.getBoundingClientRect();
					const relY = (e.clientY - rect.top) / rect.height;
					const maxTy = (rect.height * (scale - 1)) / 2;
					const ty = (relY - 0.5) * 2 * maxTy;

					setPan(img, 0, ty);
				});
			}

			// Zoom con la rueda
			$(document).on('wheel', '.poptrox-popup .pic img', function(e) {
				e.preventDefault();
				const img = $(this);
				const current = parseFloat(img.attr('data-zoom')) || 1;
				const delta = e.originalEvent.deltaY;
				const next = current + (delta > 0 ? -step : step);
				setScale(img, next);
			});

			// El popup se cierra solo con el botón X, no con click fuera
			// Al cerrar (botón X) resetea el zoom
			$(document).on('close.poptrox', function() {
				$('.poptrox-popup .pic img').each(function(){ setScale($(this), 1); });
			});
		})();
		</script>
		<script>
			// Carrusel de fondo para el intro con fade suave (lista fija)
			window.addEventListener('load', function() {
				const layerA = document.querySelector('#intro .intro-bg-a');
				const layerB = document.querySelector('#intro .intro-bg-b');
				if (!layerA || !layerB) return;

				const images = [
					'images/fulls/01.jpg',
					'images/fulls/02.jpg',
					'images/fulls/03.jpg',
					'images/fulls/16.jpg'
				];

				if (images.length === 0) return;

				let introIndex = 0;
				let showA = true;

				layerA.style.backgroundImage = "url('" + images[introIndex] + "')";
				layerA.classList.add('is-visible');

				window.setInterval(() => {
					introIndex = (introIndex + 1) % images.length;
					const nextUrl = "url('" + images[introIndex] + "')";

					if (showA) {
						layerB.style.backgroundImage = nextUrl;
						layerB.classList.add('is-visible');
						layerA.classList.remove('is-visible');
					} else {
						layerA.style.backgroundImage = nextUrl;
						layerA.classList.add('is-visible');
						layerB.classList.remove('is-visible');
					}
					showA = !showA;
				}, 4000);
			});
		</script>

	</body>
</html>
